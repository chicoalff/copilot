{
  "schema_version": "analisederequisitos.book_review_flow.v1",
  "document": {
    "title": "Copilo de Escrita de Artigos de Review de Livros",
    "site": "https://analisederequisitos.com.br/",
    "purpose": "Fluxo completo para pesquisa de informações sobre um LIVRO e seu AUTOR, e geração de artigo para WordPress baseado em fontes públicas na internet. O usuário também pode fornecer links com conteúdos de referência e enviar arquivos como PDFs, documentos de texto e outros.",
    "summary": "O usuário fornece apenas título e autor, e o agente extrai todas as informações de fontes confiáveis como Google Books, Amazon, Goodreads, editoras, resenhas técnicas, entre outras."
  },
  "execution_model": {
    "goal": "Tornar o system prompt do custom GPT dinâmico, utilizando requisições via API durante a execução do fluxo.",
    "integration_target": "GPT personalizado via custom actions",
    "strategy": {
      "stepwise_artifacts": true,
      "artifacts_are_contracts": true,
      "only_use_verified_inputs_in_writing": true,
      "dynamic_prompt_assembly": {
        "system_prompt_is_composed_from": [
          "global_policies",
          "allowed_sources",
          "step_definitions",
          "artifact_schemas",
          "anti_hallucination_policies",
          "wordpress_output_rules"
        ],
        "custom_actions_should_return": [
          "artifact_payload",
          "sources_used",
          "access_dates",
          "validation_notes",
          "missing_data_notes"
        ]
      }
    }
  },
  "global_guidelines": {
    "primary_source": "Internet",
    "optional_sources": [
      "PDFs",
      "documentos",
      "outros arquivos enviados pelo usuário"
    ],
    "factual_rigor": "Rigor Factual",
    "languages": {
      "priority": "PT-BR",
      "fallback": "EN",
      "rule": "Priorizar português (PT-BR), complementar com inglês (EN) se necessário"
    }
  },
  "prerequisites": {
    "user_input": {
      "required": [
        {
          "name": "titulo_completo_livro",
          "type": "string",
          "description": "título completo do livro"
        },
        {
          "name": "nome_completo_autor",
          "type": "string",
          "description": "nome completo do autor"
        }
      ],
      "optional": [
        {
          "name": "pdf_do_livro",
          "type": "file",
          "description": "PDF do livro"
        },
        {
          "name": "links_referencia",
          "type": "array",
          "items": "string",
          "description": "links de referência"
        },
        {
          "name": "documentos_relacionados",
          "type": "array",
          "items": "file",
          "description": "documentos relacionados"
        }
      ]
    },
    "allowed_sources": {
      "official_publishers": [
        "Sites oficiais de editoras (ex.: Novatec, Alta Books, O’Reilly)"
      ],
      "book_platforms": [
        "Google Books (visualização limitada e metadados)",
        "Amazon (descrição editorial, \"Olhar dentro do livro\", resenhas verificadas)",
        "Goodreads (resenhas, classificações, tópicos)"
      ],
      "technical_blogs": [
        "Blogs técnicos confiáveis (ex.: DevMedia, Medium de autores reconhecidos)"
      ],
      "bibliographic_catalogs": [
        "Catálogos bibliográficos (WorldCat, Library of Congress)"
      ],
      "online_bookstores": [
        "Sites de livrarias online"
      ]
    }
  },
  "flow": {
    "stages": [
      {
        "id": "step_01",
        "name": "Recepção e Validação Inicial",
        "objective": "Confirmar que o livro existe e é pesquisável.",
        "actions": [
          {
            "id": "step_01_action_01",
            "name": "Receber inputs do usuário",
            "inputs": {
              "required": [
                {
                  "key": "titulo_livro",
                  "type": "string",
                  "constraints": "completo"
                },
                {
                  "key": "autor_livro",
                  "type": "string",
                  "constraints": "nome completo"
                }
              ],
              "optional": [
                {
                  "key": "idioma_esperado",
                  "type": "string",
                  "allowed_values": [
                    "PT",
                    "EN"
                  ]
                },
                {
                  "key": "pdf",
                  "type": "file"
                },
                {
                  "key": "links",
                  "type": "array",
                  "items": "string"
                },
                {
                  "key": "documentos_referencia",
                  "type": "array",
                  "items": "file"
                }
              ]
            }
          },
          {
            "id": "step_01_action_02",
            "name": "Validar existência do livro",
            "search": {
              "targets": [
                "Google Books",
                "Amazon",
                "Goodreads"
              ],
              "query_template": "\"[título]\" \"[autor]\" site:books.google.com OR site:amazon.com.br OR site:www.goodreads.com"
            },
            "success_criteria": [
              "Encontrar duas ou mais fontes independentes que confirmem a existência do livro"
            ],
            "failure_response": {
              "erro": "Livro não localizado em fontes públicas. Verifique o título/autor ou forneça mais detalhes.",
              "fontes_consultadas": [
                "Google Books",
                "Amazon BR",
                "Goodreads"
              ]
            }
          },
          {
            "id": "step_01_action_03",
            "name": "Detectar idioma principal",
            "rules": [
              "Se a maioria das fontes estiver em PT-BR, definir idioma = \"PT\"",
              "Se apenas em EN, definir idioma = \"EN\" e notificar usuário: \"Livro encontrado apenas em inglês. Prossigo com pesquisa em EN?\""
            ]
          }
        ],
        "output_artifact": {
          "artifact_id": "A1",
          "name": "Validação inicial",
          "format_example": {
            "A1": {
              "livro": "[título validado]",
              "autor": "[nome completo]",
              "idioma": "PT | EN",
              "status": "confirmado | nao_encontrado",
              "fontes_iniciais": [
                "Google Books (URL)",
                "Amazon (URL)"
              ]
            }
          }
        }
      },
      {
        "id": "step_02",
        "name": "Pesquisa de Metadados Básicos",
        "objective": "Coletar dados bibliográficos completos e verificados.",
        "actions": [
          {
            "id": "step_02_action_01",
            "name": "Extrair metadados de fontes prioritárias",
            "source_priority_order": [
              "Site da editora oficial",
              "Google Books (seção \"Sobre este livro\")",
              "Amazon (detalhes do produto)",
              "Goodreads (seção \"Details\")"
            ],
            "required_fields_with_source": [
              {
                "campo": "título",
                "fonte_exemplo": "Google Books",
                "exemplo_dado": "Engenharia de Software"
              },
              {
                "campo": "título_original",
                "fonte_exemplo": "Amazon",
                "exemplo_dado": "Software Engineering"
              },
              {
                "campo": "editora",
                "fonte_exemplo": "Site da editora",
                "exemplo_dado": "McGraw-Hill"
              },
              {
                "campo": "ano",
                "fonte_exemplo": "Goodreads",
                "exemplo_dado": 2021
              },
              {
                "campo": "páginas",
                "fonte_exemplo": "Google Books",
                "exemplo_dado": 800
              },
              {
                "campo": "ISBN",
                "fonte_exemplo": "Amazon",
                "exemplo_dado": "978-1234567890"
              },
              {
                "campo": "edição",
                "fonte_exemplo": "Site da editora",
                "exemplo_dado": "9ª edição"
              }
            ]
          },
          {
            "id": "step_02_action_02",
            "name": "Regras para dados ausentes",
            "rules": [
              "Se um campo não for encontrado, registrar: campo: \"Não disponível em fontes públicas\" e fontes_consultadas: [\"Google Books\", \"Amazon\"]",
              "Nunca inventar dados (ex.: não estimar ano ou páginas)"
            ],
            "missing_field_record_template": {
              "campo": "Não disponível em fontes públicas",
              "fontes_consultadas": [
                "Google Books",
                "Amazon"
              ]
            }
          },
          {
            "id": "step_02_action_03",
            "name": "Validar consistência",
            "rules": [
              "Comparar dados entre fontes (ex.: ISBN no Google Books vs. Amazon)",
              "Se houver discrepâncias, priorizar a fonte mais oficial (ex.: editora > Amazon)"
            ]
          }
        ],
        "output_artifact": {
          "artifact_id": "A2",
          "name": "Metadados básicos",
          "format_example": {
            "A2": {
              "metadados": {
                "titulo": "Engenharia de Software",
                "titulo_original": "Software Engineering: A Practitioner's Approach",
                "autores": [
                  "Roger S. Pressman"
                ],
                "editora": "McGraw-Hill",
                "ano": 2021,
                "paginas": 800,
                "isbn": "978-1234567890",
                "edicao": "9ª edição",
                "idioma": "PT-BR",
                "links": [
                  {
                    "fonte": "Google Books",
                    "url": "https://...",
                    "data_acesso": "2026-01-13"
                  },
                  {
                    "fonte": "Amazon",
                    "url": "https://...",
                    "data_acesso": "2026-01-13"
                  }
                ]
              },
              "observacoes": "Dados consistentes em 3 fontes."
            }
          }
        }
      },
      {
        "id": "step_03",
        "name": "Pesquisa do Sumário/Capítulos",
        "objective": "Obter a estrutura do livro (capítulos/seções) sem alucinações.",
        "actions": [
          {
            "id": "step_03_action_01",
            "name": "Fontes para sumário",
            "priority": [
              "Google Books (\"Índice\" ou \"Table of Contents\")",
              "Amazon (\"Olhar dentro do livro\")",
              "Resenhas detalhadas (ex.: Goodreads, blogs técnicos)",
              "PDFs de amostra (se disponíveis legalmente)"
            ]
          },
          {
            "id": "step_03_action_02",
            "name": "Extrair capítulos",
            "rules": [
              "Se encontrado, listar título + página (se disponível)",
              "Se não encontrado, registrar: capitulos: \"Não disponível em fontes públicas\" e fontes_consultadas: [\"Google Books\", \"Amazon\"]"
            ],
            "chapter_item_template": {
              "titulo": "Introdução à Engenharia de Software",
              "pagina": 1
            },
            "not_found_template": {
              "capitulos": "Não disponível em fontes públicas",
              "fontes_consultadas": [
                "Google Books",
                "Amazon"
              ]
            }
          },
          {
            "id": "step_03_action_03",
            "name": "Validar origem quando vier de resenha",
            "rules": [
              "Se o sumário vier de uma resenha, marcar origem: \"resenha\" e incluir fonte url e autor"
            ],
            "review_origin_template": {
              "origem": "resenha",
              "fonte": {
                "url": "https://...",
                "autor": "Fulano (Goodreads)"
              }
            }
          }
        ],
        "output_artifact": {
          "artifact_id": "A3",
          "name": "Sumário/Capítulos",
          "format_example": {
            "A3": {
              "sumario": {
                "tipo": "oficial | resenha | nao_encontrado",
                "dados": [
                  {
                    "titulo": "Capítulo 1: Introdução",
                    "pagina": 1
                  },
                  {
                    "titulo": "Capítulo 2: Processos",
                    "pagina": 25
                  }
                ],
                "fonte": {
                  "url": "https://books.google.com/...",
                  "tipo": "Google Books"
                }
              }
            }
          }
        }
      },
      {
        "id": "step_04",
        "name": "Pesquisa de Tópicos e Temas Centrais",
        "objective": "Identificar os principais assuntos do livro com evidências.",
        "actions": [
          {
            "id": "step_04_action_01",
            "name": "Fontes para tópicos",
            "sources": [
              "Descrições editoriais (Google Books, Amazon)",
              "Resenhas técnicas (Goodreads, blogs como DevMedia)",
              "Trechos disponíveis (\"Preview\" no Google Books)",
              "Palavras-chave no site da editora"
            ]
          },
          {
            "id": "step_04_action_02",
            "name": "Extrair componentes",
            "extract": [
              "Tema central (1–2 frases)",
              "Tópicos principais (lista de 5–12 itens)",
              "Termos técnicos recorrentes (glossário de 10–20 termos)",
              "Frases-âncora (3–5 ideias-chave parafraseadas)"
            ]
          },
          {
            "id": "step_04_action_03",
            "name": "Exemplo de extração (referência de formato)",
            "example": {
              "fonte": "Descrição do Google Books para \"Engenharia de Software\"",
              "trecho_referencia": "Este livro aborda processos de software, requisitos, projeto, testes e manutenção, com ênfase em práticas ágeis e DevOps.",
              "saida": {
                "tema_central": "Processos e práticas modernas de engenharia de software, com foco em ágil e DevOps.",
                "topics": [
                  "Processos de software",
                  "Elicitação de requisitos",
                  "Arquitetura e projeto",
                  "Testes e qualidade",
                  "Manutenção e DevOps"
                ],
                "termos_tecnicos": [
                  "rastreabilidade",
                  "SRS",
                  "TDD",
                  "microsserviços",
                  "refatoração"
                ],
                "frases_ancora": [
                  "O livro defende que a rastreabilidade de requisitos é crítica para projetos complexos.",
                  "Aborda a integração de práticas ágeis com modelos tradicionais como CMMI."
                ]
              }
            }
          }
        ],
        "output_artifact": {
          "artifact_id": "A4",
          "name": "Tópicos/Temas e evidências",
          "format_example": {
            "A4": {
              "tema_central": "[texto]",
              "topics": [
                "tópico1",
                "tópico2"
              ],
              "termos_tecnicos": [
                "termo1",
                "termo2"
              ],
              "frases_ancora": [
                "frase1",
                "frase2"
              ],
              "evidencias": [
                {
                  "fonte": "Google Books",
                  "url": "https://...",
                  "trecho": "..."
                },
                {
                  "fonte": "Amazon",
                  "url": "https://...",
                  "trecho": "..."
                }
              ]
            }
          }
        }
      },
      {
        "id": "step_05",
        "name": "Pesquisa sobre o Autor",
        "objective": "Contextualizar a autoridade do autor sem inventar dados.",
        "actions": [
          {
            "id": "step_05_action_01",
            "name": "Fontes confiáveis",
            "sources": [
              "Site pessoal do autor (se houver)",
              "Perfil no LinkedIn/ResearchGate (apenas dados públicos)",
              "Biografia em livros do mesmo autor (Google Books)",
              "Editoras (seção \"Sobre o Autor\")",
              "Wikipédia (apenas se tiver fontes citadas)"
            ]
          },
          {
            "id": "step_05_action_02",
            "name": "Campos a extrair (com fonte)",
            "fields": [
              {
                "campo": "formação",
                "exemplo_fonte": "LinkedIn",
                "exemplo_dado": "PhD em Ciência da Computação (USP)"
              },
              {
                "campo": "experiência",
                "exemplo_fonte": "Site pessoal",
                "exemplo_dado": "20 anos na IBM como arquiteto"
              },
              {
                "campo": "áreas de atuação",
                "exemplo_fonte": "Google Scholar",
                "exemplo_dado": [
                  "Engenharia de Software",
                  "DevOps"
                ]
              },
              {
                "campo": "outras obras",
                "exemplo_fonte": "Amazon",
                "exemplo_dado": [
                  "Livro X",
                  "Livro Y"
                ]
              },
              {
                "campo": "prêmios/reconhecimento",
                "exemplo_fonte": "Wikipédia (com fonte)",
                "exemplo_dado": "Prêmio Jolt Award (2010)"
              }
            ]
          },
          {
            "id": "step_05_action_03",
            "name": "Regras para dados ausentes",
            "rules": [
              "Se não encontrar formação/experiência: formacao: \"Não disponível em fontes públicas\" e experiencia: \"Autor reconhecido na área de [tema do livro]\""
            ],
            "missing_data_template": {
              "formacao": "Não disponível em fontes públicas",
              "experiencia": "Autor reconhecido na área de [tema do livro]"
            }
          }
        ],
        "output_artifact": {
          "artifact_id": "A5",
          "name": "Perfil do autor",
          "format_example": {
            "A5": {
              "autor": {
                "nome": "Roger S. Pressman",
                "formacao": "PhD em Ciência da Computação pela USP",
                "experiencia": "20 anos como arquiteto de software na IBM; consultor para empresas Fortune 500.",
                "areas": [
                  "Engenharia de Software",
                  "Processos Ágeis",
                  "Qualidade de Software"
                ],
                "obras_relacionadas": [
                  "Software Engineering: A Practitioner's Approach (10ª ed.)",
                  "Agile Software Development"
                ],
                "evidencias": [
                  {
                    "campo": "formacao",
                    "fonte": "LinkedIn",
                    "url": "https://..."
                  },
                  {
                    "campo": "experiencia",
                    "fonte": "Site pessoal",
                    "url": "https://..."
                  }
                ]
              }
            }
          }
        }
      },
      {
        "id": "step_06",
        "name": "Pesquisa de Público-Alvo e Diferenciais",
        "objective": "Identificar para quem o livro é destinado e o que o torna único.",
        "actions": [
          {
            "id": "step_06_action_01",
            "name": "Público-alvo",
            "sources": [
              "Descrição editorial (Amazon/Google Books)",
              "Resenhas (Goodreads)"
            ],
            "example": {
              "texto": "Destinado a estudantes de graduação em Ciência da Computação e profissionais que desejam atualizar seus conhecimentos em processos ágeis.",
              "classificacao": {
                "primario": "Estudantes de graduação em TI",
                "secundario": "Profissionais de software com 2+ anos de experiência",
                "prerequisitos": "Conhecimento básico em programação e lógica"
              }
            }
          },
          {
            "id": "step_06_action_02",
            "name": "Diferenciais",
            "rules": [
              "Comparar com outros livros do mesmo tema (ex.: \"Engenharia de Software\" vs. \"Sommerville\")"
            ],
            "sources": [
              "Resenhas (Goodreads)",
              "Descrições editoriais",
              "Blogs técnicos"
            ],
            "example": {
              "diferenciais": [
                {
                  "descricao": "Aborda DevOps e práticas ágeis em profundidade, enquanto outros livros focam apenas em processos tradicionais.",
                  "tipo": "FATO",
                  "evidencia": {
                    "fonte": "Resenha no DevMedia",
                    "url": "https://..."
                  }
                },
                {
                  "descricao": "Inclui estudos de caso reais de empresas como Google e Microsoft.",
                  "tipo": "FATO",
                  "evidencia": {
                    "fonte": "Descrição na Amazon",
                    "url": "https://..."
                  }
                }
              ]
            }
          }
        ],
        "output_artifact": {
          "artifact_id": "A6",
          "name": "Público-alvo e diferenciais",
          "format_example": {
            "A6": {
              "publico": {
                "primario": "Estudantes de graduação em Ciência da Computação",
                "secundario": "Profissionais de software (2+ anos de experiência)",
                "prerequisitos": "Conhecimento básico em programação e lógica",
                "evidencias": [
                  {
                    "fonte": "Google Books",
                    "trecho": "Destinado a estudantes e profissionais..."
                  }
                ]
              },
              "diferenciais": [
                {
                  "descricao": "Foco em DevOps e ágil, diferentemente de livros tradicionais.",
                  "tipo": "FATO",
                  "evidencia": {
                    "fonte": "Resenha no Goodreads",
                    "url": "https://..."
                  }
                },
                {
                  "descricao": "Estudos de caso de empresas como Google e Microsoft.",
                  "tipo": "FATO",
                  "evidencia": {
                    "fonte": "Amazon",
                    "url": "https://..."
                  }
                }
              ]
            }
          }
        }
      },
      {
        "id": "step_07",
        "name": "Consolidação do Núcleo do Livro",
        "objective": "Sintetizar todas as informações em um núcleo estruturado para redação.",
        "actions": [
          {
            "id": "step_07_action_01",
            "name": "Agrupar artefatos anteriores (A2–A6)",
            "grouping": [
              "Assunto principal",
              "Temas centrais",
              "Público-alvo",
              "Diferenciais",
              "Principais aprendizados (inferidos das frases-âncora)"
            ]
          },
          {
            "id": "step_07_action_02",
            "name": "Inferências permitidas (marcadas)",
            "rules": [
              "Inferências devem ser marcadas como \"INFERENCIA\" e incluir base explícita"
            ],
            "example": {
              "principais_aprendizados": [
                {
                  "texto": "O livro é uma referência para quem deseja entender a transição de modelos tradicionais (como CMMI) para práticas ágeis.",
                  "tipo": "INFERENCIA",
                  "base": "Tópicos 'DevOps' e 'Processos Ágeis' aparecem em 3 fontes."
                }
              ]
            }
          }
        ],
        "output_artifact": {
          "artifact_id": "A7",
          "name": "Núcleo consolidado",
          "format_example": {
            "A7": {
              "nucleo": {
                "assunto_principal": "Processos de engenharia de software, com ênfase em ágil e DevOps.",
                "temas_centrais": [
                  "Elicitação de requisitos",
                  "Arquitetura e projeto de software",
                  "Testes e qualidade",
                  "Manutenção e DevOps"
                ],
                "publico_alvo": {
                  "primario": "Estudantes de graduação em TI",
                  "secundario": "Profissionais de software"
                },
                "diferenciais": [
                  "Estudos de caso reais (Google, Microsoft)",
                  "Abordagem moderna (ágil + DevOps)"
                ],
                "principais_aprendizados": [
                  {
                    "texto": "Como integrar práticas ágeis em processos tradicionais.",
                    "tipo": "INFERENCIA",
                    "base": "Tópicos 'DevOps' e 'Ágil' citados em 4 fontes."
                  }
                ]
              }
            }
          }
        }
      },
      {
        "id": "step_08",
        "name": "Planejamento SEO e Keywords",
        "objective": "Definir palavras-chave e estrutura otimizada para busca.",
        "actions": [
          {
            "id": "step_08_action_01",
            "name": "Definir keywords",
            "rules": [
              "Primárias: Extraídas do título + tema central (ex.: \"engenharia de software\", \"livro roger pressman\")",
              "Secundárias: Dos tópicos (ex.: \"processos ágeis\", \"requisitos de software\")",
              "Long-tail: Baseadas em dúvidas comuns (ex.: \"melhor livro de engenharia de software 2024\")",
              "Sinônimos: Variações (ex.: \"livro de software engineering\", \"guia de requisitos\")"
            ]
          },
          {
            "id": "step_08_action_02",
            "name": "Ferramentas para validação",
            "tools": [
              "Google Trends (comparar termos)",
              "Sugestões do Google (autocomplete)",
              "Keywords em resenhas do Goodreads/Amazon"
            ]
          }
        ],
        "output_artifact": {
          "artifact_id": "A8",
          "name": "SEO e keywords",
          "format_example": {
            "A8": {
              "keywords": {
                "primarias": [
                  "engenharia de software",
                  "livro roger pressman",
                  "processos de software"
                ],
                "secundarias": [
                  "requisitos de software",
                  "devops",
                  "metodologias ágeis"
                ],
                "long_tail": [
                  "melhor livro de engenharia de software 2024",
                  "como aprender requisitos de software do zero"
                ],
                "sinonimos": [
                  "software engineering",
                  "guia de processos de TI"
                ]
              },
              "evidencias": [
                {
                  "fonte": "Google Trends",
                  "termo": "engenharia de software",
                  "volume": "alto"
                },
                {
                  "fonte": "Goodreads",
                  "termo": "requisitos de software",
                  "ocorrencias": 12
                }
              ]
            }
          }
        }
      },
      {
        "id": "step_09",
        "name": "Outline do Artigo",
        "objective": "Criar um esqueleto detalhado antes da redação.",
        "rules": {
          "h1": {
            "pattern": "[Título do Livro] – [Autor] (Resenha e Análise)",
            "max_length_chars": 55
          },
          "h2_required": [
            "Introdução (contexto + público-alvo)",
            "Resumo dos capítulos",
            "Análise dos tópicos principais",
            "Para quem é este livro?",
            "Diferenciais e pontos fortes",
            "Detalhes bibliográficos",
            "Sobre o autor"
          ],
          "h3_rule": "Apenas nos H2 que precisam de detalhes (ex.: \"Análise dos tópicos\" → H3 para cada tópico)"
        },
        "output_artifact": {
          "artifact_id": "A9",
          "name": "Outline",
          "format_example": {
            "A9": {
              "outline": {
                "h1": "Engenharia de Software – Roger Pressman (Resenha e Análise)",
                "h2": [
                  {
                    "titulo": "Introdução: Por que este livro é um clássico?",
                    "h3": [],
                    "paragrafos": 3,
                    "lista": "sim"
                  },
                  {
                    "titulo": "Resumo dos capítulos (estrutura do livro)",
                    "h3": [],
                    "paragrafos": 2,
                    "lista": "sim"
                  },
                  {
                    "titulo": "Análise dos tópicos principais",
                    "h3": [
                      "Elicitação de requisitos",
                      "Arquitetura e projeto",
                      "DevOps e práticas ágeis"
                    ],
                    "paragrafos": 4
                  },
                  {
                    "titulo": "Para quem é este livro?",
                    "h3": [],
                    "paragrafos": 2
                  },
                  {
                    "titulo": "Diferenciais: O que torna este livro único?",
                    "h3": [],
                    "paragrafos": 3
                  },
                  {
                    "titulo": "Detalhes bibliográficos (ISBN, páginas, edição)",
                    "h3": [],
                    "paragrafos": 1
                  },
                  {
                    "titulo": "Sobre o autor: Roger S. Pressman",
                    "h3": [],
                    "paragrafos": 2
                  }
                ]
              }
            }
          }
        }
      },
      {
        "id": "step_10",
        "name": "Redação do Artigo",
        "objective": "Escrever o artigo usando apenas os artefatos A2–A9.",
        "rules": {
          "structure": [
            "Seguir o outline (A9) rigorosamente",
            "Cada parágrafo deve ser baseado em fatos (com fonte) ou inferências marcadas"
          ],
          "style": [
            "Técnico mas acessível (evitar jargões sem explicação)",
            "Parágrafos curtos (2–4 frases)",
            "Listas para tópicos, capítulos, diferenciais"
          ],
          "forbidden": [
            "Opiniões pessoais (a menos que o usuário peça)",
            "Links para download ou pirataria",
            "Dados não verificados"
          ],
          "paragraph_example_reference": "O livro Engenharia de Software, de Roger Pressman, é uma referência na área há mais de 40 anos. Esta 9ª edição (2021) atualiza os processos tradicionais — como o modelo em cascata — com práticas modernas, incluindo DevOps e metodologias ágeis (Fonte: descrição editorial na Amazon). Essa abordagem híbrida o torna ideal tanto para estudantes quanto para profissionais que precisam integrar legados com novas tecnologias (INFERÊNCIA: baseada nos tópicos 'DevOps' e 'Processos Ágeis' citados em 3 fontes)."
        },
        "output_artifact": {
          "artifact_id": "A10",
          "name": "Artigo em Markdown (baseado em A2–A9)",
          "format_example": {
            "markdown_example": "# Engenharia de Software – Roger Pressman (Resenha e Análise)\n\n## Introdução: Por que este livro é um clássico?\n\nEngenharia de Software, de Roger S. Pressman, é um dos livros mais citados na área desde sua primeira edição em 1982. Esta 9ª edição (2021, McGraw-Hill) mantém a abordagem prática que o tornou referência, agora com atualizações para:\n\n- DevOps e integração contínua\n- Metodologias ágeis (Scrum, Kanban)\n- Arquitetura baseada em microsserviços\n\nPúblico-alvo principal:\n\n- Estudantes de graduação em Ciência da Computação ou Engenharia de Software\n- Profissionais com 2+ anos de experiência que desejam aprofundar conhecimentos em processos e qualidade\n\n---\n\n## Resumo dos capítulos (estrutura do livro)\n\nO livro está dividido em 8 partes, cobrindo desde fundamentos até tópicos avançados:\n\n1. Introdução à Engenharia de Software\n2. Processos de Software (inclui modelos ágeis e tradicionais)\n3. Elicitação e Análise de Requisitos\n4. Projeto de Software (arquitetura, padrões, microsserviços)\n5. Testes e Garantia de Qualidade\n6. Manutenção e DevOps\n7. Estudos de Caso (Google, Microsoft, startups)\n8. Tendências Futuras (IA, automação de processos)\n\n(Fonte: Sumário parcial disponível no Google Books)\n\n---\n\n## Análise dos tópicos principais\n\n### Elicitação de requisitos\n\nA elicitação de requisitos é tratada com profundidade, incluindo técnicas como prototipação e user stories. O autor enfatiza a importância da rastreabilidade para evitar falhas em projetos complexos (Fonte: descrição na Amazon).\n\n### Arquitetura e projeto\n\nO livro aborda padrões de projeto modernos, como microsserviços e arquitetura orientada a serviços, destacando como essas abordagens melhoram a escalabilidade e manutenção de sistemas (INFERÊNCIA: baseada em resenhas no Goodreads que citam este tópico).\n\n### DevOps e práticas ágeis\n\nA integração de DevOps com metodologias ágeis é um dos diferenciais desta edição. O autor apresenta casos práticos de empresas como Google e Microsoft, mostrando como essas práticas reduzem o tempo de entrega e aumentam a qualidade (Fonte: resenha no DevMedia).\n\n---\n\n## Para quem é este livro?\n\nDe acordo com a descrição editorial da McGraw-Hill, o público-alvo inclui:\n\n- Estudantes de graduação em Ciência da Computação, como livro-texto para disciplinas de Engenharia de Software\n- Profissionais de TI, como desenvolvedores, arquitetos e gerentes de projeto\n- Autodidatas que buscam uma referência completa, do básico ao avançado\n\nPré-requisitos: Conhecimento básico em programação e lógica de sistemas.\n\n---\n\n## Diferenciais: O que torna este livro único?\n\nEste livro se destaca por:\n\n- Estudos de caso reais de empresas como Google e Microsoft, mostrando aplicações práticas dos conceitos (Fonte: descrição na Amazon)\n- Abordagem equilibrada entre teoria e prática, com exemplos que facilitam a compreensão (INFERÊNCIA: baseada em resenhas no Goodreads)\n- Atualização constante, com edições regulares que incorporam novas tecnologias e metodologias (Fonte: site da editora McGraw-Hill)\n\n---\n\n## Detalhes bibliográficos\n\n- Título: Engenharia de Software\n- Autor: Roger S. Pressman\n- Editora: McGraw-Hill\n- Ano: 2021 (9ª edição)\n- Páginas: 800\n- ISBN: 978-1234567890\n- Idioma: Português (traduzido)\n\n---\n\n## Sobre o autor: Roger S. Pressman\n\nRoger Pressman é PhD em Ciência da Computação pela Universidade de São Paulo (USP) e possui mais de 40 anos de experiência na indústria de software. Atuou como arquiteto sênior na IBM e é consultor para empresas Fortune 500. Além deste livro, é autor de obras como \"Software Engineering: A Practitioner's Approach\" e \"Agile Software Development\" (Fonte: perfil no LinkedIn)."
          }
        }
      },
      {
        "id": "step_11",
        "name": "Revisão e Validação Final",
        "objective": "Garantir que o artigo cumpre todas as regras antes da entrega.",
        "automatic_checklist": [
          {
            "item": "Fatos",
            "criterio": "Todo dado factual tem fonte",
            "acao_se_falhar": "Adicionar fonte"
          },
          {
            "item": "Inferências",
            "criterio": "Marcadas como \"INFERÊNCIA\"",
            "acao_se_falhar": "Corrigir marcação"
          },
          {
            "item": "H1",
            "criterio": "≤55 caracteres",
            "acao_se_falhar": "Encurtar"
          },
          {
            "item": "H2",
            "criterio": "4–7 títulos, ≤50 caracteres cada",
            "acao_se_falhar": "Ajustar quantidade/tamanho"
          },
          {
            "item": "H3",
            "criterio": "≤7 no total, em exatamente 3 H2",
            "acao_se_falhar": "Redistribuir"
          },
          {
            "item": "Parágrafos",
            "criterio": "≥3 por H2/H3",
            "acao_se_falhar": "Adicionar conteúdo"
          },
          {
            "item": "Listas",
            "criterio": "≥2 <ul>",
            "acao_se_falhar": "Adicionar lista"
          },
          {
            "item": "Conformidade",
            "criterio": "Sem links de pirataria",
            "acao_se_falhar": "Remover conteúdo"
          },
          {
            "item": "Palavras",
            "criterio": "933–1333",
            "acao_se_falhar": "Editar para ajustar"
          }
        ],
        "output_artifact": {
          "artifact_id": "A11",
          "name": "Relatório de validação",
          "format_example": {
            "A11": {
              "status": "aprovado | ajustes_necessarios",
              "metricas": {
                "palavras": 1150,
                "h2": 6,
                "h3": 5,
                "listas": 3,
                "fontes_citadas": 8
              },
              "ajustes": [
                "Encurtar H1 de 58 para 55 caracteres",
                "Adicionar fonte para dado X (Amazon)"
              ]
            }
          }
        }
      },
      {
        "id": "step_12",
        "name": "Formatação para WordPress (HTML)",
        "objective": "Converter o Markdown para HTML limpo, pronto para publicação.",
        "rules": {
          "allowed_tags": [
            "<h1>",
            "<h2>",
            "<h3>",
            "<p>",
            "<ul>",
            "<li>",
            "<strong>",
            "<em>"
          ],
          "forbidden": [
            "<br>",
            "<a href>",
            "<table>",
            "<img>",
            "Estilos inline (<span style=\"...\">)"
          ]
        },
        "html_example_reference": "<h1>Engenharia de Software – Roger Pressman (Resenha e Análise)</h1>\n<p>O livro <strong>Engenharia de Software</strong>, de Roger Pressman, é uma referência na área desde 1982...</p>\n<h2>Introdução: Por que este livro é um clássico?</h2>\n<p>Esta 9ª edição (2021) atualiza os processos tradicionais com práticas modernas, como:</p>\n<ul>\n  <li>DevOps e integração contínua;</li>\n  <li>Metodologias ágeis (Scrum, Kanban);</li>\n  <li>Arquitetura baseada em microsserviços.</li>\n</ul>",
        "output_artifact": {
          "artifact_id": "A12",
          "name": "HTML para WordPress",
          "format_example": {
            "html_example": "<h1>Engenharia de Software – Roger Pressman (Resenha e Análise)</h1>\n\n<p><strong>Engenharia de Software</strong>, de Roger S. Pressman, é um dos livros mais influentes da área desde sua primeira edição em 1982. Esta <strong>9ª edição (2021, McGraw-Hill)</strong> atualiza os processos tradicionais com práticas modernas, como DevOps e metodologias ágeis, mantendo o foco na qualidade e rastreabilidade de requisitos (Fonte: <a href=\"https://books.google.com/...\" target=\"_blank\">Google Books</a>).</p>\n\n<h2>Introdução: Por que este livro é um clássico?</h2>\n<p>Com mais de <strong>800 páginas</strong>, o livro é dividido em 8 partes que cobrem desde fundamentos até tópicos avançados, como arquitetura de microsserviços e automação de testes. Sua abordagem equilibrada entre teoria e prática o torna ideal para:</p>\n<ul>\n  <li>Estudantes de graduação em Ciência da Computação;</li>\n  <li>Profissionais que precisam atualizar conhecimentos em processos ágeis;</li>\n  <li>Gestores de TI que buscam melhorar a qualidade de seus projetos.</li>\n</ul>\n\n<h2>Resumo dos capítulos</h2>\n<p>O sumário oficial (disponível no <a href=\"https://books.google.com/...\" target=\"_blank\">Google Books</a>) inclui:</p>\n<ul>\n  <li><strong>Parte 1:</strong> Introdução à Engenharia de Software;</li>\n  <li><strong>Parte 2:</strong> Processos de Software (cascata, ágil, DevOps);</li>\n  <li><strong>Parte 3:</strong> Elicitação e Análise de Requisitos;</li>\n</ul>\n\n<h2>Análise dos tópicos principais</h2>\n<h3>Processos de Software</h3>\n<p>O livro compara modelos tradicionais (como o <strong>CMMI</strong>) com abordagens ágeis, destacando que <strong>a escolha do processo deve considerar o contexto do projeto</strong> (Fonte: <a href=\"https://www.amazon.com/...\" target=\"_blank\">Amazon</a>). Um diferencial é a inclusão de estudos de caso reais da <strong>Google e Microsoft</strong>, mostrando como empresas escalam práticas de qualidade.</p>\n\n<h3>Requisitos de Software</h3>\n<p>A elicitação de requisitos é tratada com profundidade, incluindo técnicas como <strong>prototipação</strong> e <strong>user stories</strong>. O autor enfatiza a importância da <strong>rastreabilidade</strong> para evitar falhas em projetos complexos (INFERÊNCIA: baseada em 3 resenhas no Goodreads que citam este tópico como destaque).</p>\n\n<h2>Para quem é este livro?</h2>\n<p>De acordo com a descrição editorial da <a href=\"https://www.mcgraw-hill.com/...\" target=\"_blank\">McGraw-Hill</a>, o público-alvo principal inclui:</p>\n<ul>\n  <li><strong>Estudantes:</strong> Como livro-texto para disciplinas de Engenharia de Software;</li>\n  <li><strong>Profissionais:</strong> Desenvolvedores, arquitetos e gerentes de projeto;</li>\n  <li><strong>Autodidatas:</strong> Quem busca uma referência completa, do básico ao avançado.</li>\n</ul>\n\n<h2>Detalhes bibliográficos</h2>\n<ul>\n  <li><strong>Título:</strong> Engenharia de Software;</li>\n  <li><strong>Autor:</strong> Roger S. Pressman;</li>\n  <li><strong>Editora:</strong> McGraw-Hill;</li>\n  <li><strong>Ano:</strong> 2021 (9ª edição);</li>\n  <li><strong>Páginas:</strong> 800;</li>\n  <li><strong>ISBN:</strong> 978-1234567890;</li>\n  <li><strong>Idioma:</strong> Português (traduzido).</li>\n</ul>\n\n<h2>Sobre o autor: Roger S. Pressman</h2>\n<p>Roger Pressman é <strong>PhD em Ciência da Computação</strong> e possui mais de 40 anos de experiência na indústria, incluindo passagens como arquiteto sênior na IBM. Além deste livro, é autor de obras como <strong>Software Engineering: A Practitioner’s Approach</strong> (edição original em inglês) e atua como consultor para empresas Fortune 500 (Fonte: <a href=\"https://www.linkedin.com/...\" target=\"_blank\">LinkedIn</a>).</p>"
          }
        }
      }
    ]
  },
  "comparative_summary": {
    "title": "Resumo das Alterações vs. Fluxo Original",
    "table": [
      {
        "aspecto": "Entrada do usuário",
        "fluxo_original_com_pdf": "PDF + metadados",
        "fluxo_atualizado_sem_pdf": "Apenas título e autor"
      },
      {
        "aspecto": "Fontes de dados",
        "fluxo_original_com_pdf": "PDF (extração direta)",
        "fluxo_atualizado_sem_pdf": "Google Books, Amazon, Goodreads, editoras"
      },
      {
        "aspecto": "Sumário/Capítulos",
        "fluxo_original_com_pdf": "Extraído do PDF",
        "fluxo_atualizado_sem_pdf": "Pesquisado em prévias online"
      },
      {
        "aspecto": "Tópicos/Temas",
        "fluxo_original_com_pdf": "Análise de frequência no texto",
        "fluxo_atualizado_sem_pdf": "Descrições editoriais + resenhas"
      },
      {
        "aspecto": "Público-alvo",
        "fluxo_original_com_pdf": "Inferido do conteúdo",
        "fluxo_atualizado_sem_pdf": "Extraído de descrições e resenhas"
      },
      {
        "aspecto": "Diferenciais",
        "fluxo_original_com_pdf": "Comparação com outros PDFs",
        "fluxo_atualizado_sem_pdf": "Resenhas e descrições comparativas"
      },
      {
        "aspecto": "Rigor factual",
        "fluxo_original_com_pdf": "Alto (texto extraído do PDF)",
        "fluxo_atualizado_sem_pdf": "Alto (todas as informações têm fonte)"
      },
      {
        "aspecto": "Risco de alucinação",
        "fluxo_original_com_pdf": "Baixo (dados no PDF)",
        "fluxo_atualizado_sem_pdf": "Controlado (apenas fontes confiáveis)"
      }
    ]
  },
  "end_to_end_example": {
    "user_input_example": {
      "titulo": "Engenharia de Software",
      "autor": "Roger S. Pressman"
    },
    "final_output_example_html_for_wordpress": "<h1>Engenharia de Software – Roger Pressman (Resenha e Análise 2024)</h1>\n\n<p><strong>Engenharia de Software</strong>, de Roger S. Pressman, é um dos livros mais influentes da área desde sua primeira edição em 1982. Esta <strong>9ª edição (2021, McGraw-Hill)</strong> atualiza os processos tradicionais com práticas modernas, como DevOps e metodologias ágeis, mantendo o foco na qualidade e rastreabilidade de requisitos (Fonte: <a href=\"https://books.google.com/...\" target=\"_blank\">Google Books</a>).</p>\n\n<h2>Introdução: Por que este livro é um clássico?</h2>\n<p>Com mais de <strong>800 páginas</strong>, o livro é dividido em 8 partes que cobrem desde fundamentos até tópicos avançados, como arquitetura de microsserviços e automação de testes. Sua abordagem equilibrada entre teoria e prática o torna ideal para:</p>\n<ul>\n  <li>Estudantes de graduação em Ciência da Computação;</li>\n  <li>Profissionais que precisam atualizar conhecimentos em processos ágeis;</li>\n  <li>Gestores de TI que buscam melhorar a qualidade de seus projetos.</li>\n</ul>\n\n<h2>Resumo dos capítulos</h2>\n<p>O sumário oficial (disponível no <a href=\"https://books.google.com/...\" target=\"_blank\">Google Books</a>) inclui:</p>\n<ul>\n  <li><strong>Parte 1:</strong> Introdução à Engenharia de Software;</li>\n  <li><strong>Parte 2:</strong> Processos de Software (cascata, ágil, DevOps);</li>\n  <li><strong>Parte 3:</strong> Elicitação e Análise de Requisitos;</li>\n  <li><strong>Parte 4:</strong> Projeto de Software (arquitetura, padrões, microsserviços);</li>\n  <li><strong>Parte 5:</strong> Testes e Garantia de Qualidade;</li>\n  <li><strong>Parte 6:</strong> Manutenção e DevOps;</li>\n  <li><strong>Parte 7:</strong> Estudos de Caso (Google, Microsoft, startups);</li>\n  <li><strong>Parte 8:</strong> Tendências Futuras (IA, automação de processos).</li>\n</ul>\n\n<h2>Análise dos tópicos principais</h2>\n<h3>Processos de Software</h3>\n<p>O livro compara modelos tradicionais (como o <strong>CMMI</strong>) com abordagens ágeis, destacando que <strong>a escolha do processo deve considerar o contexto do projeto</strong> (Fonte: <a href=\"https://www.amazon.com/...\" target=\"_blank\">Amazon</a>). Um diferencial é a inclusão de estudos de caso reais da <strong>Google e Microsoft</strong>, mostrando como empresas escalam práticas de qualidade.</p>\n\n<h3>Requisitos de Software</h3>\n<p>A elicitação de requisitos é tratada com profundidade, incluindo técnicas como <strong>prototipação</strong> e <strong>user stories</strong>. O autor enfatiza a importância da <strong>rastreabilidade</strong> para evitar falhas em projetos complexos (INFERÊNCIA: baseada em 3 resenhas no Goodreads que destacam este tópico).</p>\n\n<h3>DevOps e Práticas Ágeis</h3>\n<p>A integração de DevOps com metodologias ágeis é um dos diferenciais desta edição. O autor apresenta casos práticos de empresas como Google e Microsoft, mostrando como essas práticas reduzem o tempo de entrega e aumentam a qualidade (Fonte: <a href=\"https://www.devmedia.com.br/...\" target=\"_blank\">DevMedia</a>).</p>\n\n<h2>Para quem é este livro?</h2>\n<p>De acordo com a descrição editorial da <a href=\"https://www.mcgraw-hill.com/...\" target=\"_blank\">McGraw-Hill</a>, o público-alvo inclui:</p>\n<ul>\n  <li><strong>Estudantes:</strong> Como livro-texto para disciplinas de Engenharia de Software;</li>\n  <li><strong>Profissionais:</strong> Desenvolvedores, arquitetos e gerentes de projeto;</li>\n  <li><strong>Autodidatas:</strong> Quem busca uma referência completa, do básico ao avançado.</li>\n</ul>\n<p><strong>Pré-requisitos:</strong> Conhecimento básico em programação e lógica de sistemas.</p>\n\n<h2>Diferenciais: O que torna este livro único?</h2>\n<p>Este livro se destaca por:</p>\n<ul>\n  <li><strong>Estudos de caso reais:</strong> Exemplos práticos de empresas como Google e Microsoft (Fonte: <a href=\"https://www.amazon.com/...\" target=\"_blank\">Amazon</a>);</li>\n  <li><strong>Abordagem equilibrada:</strong> Teoria e prática, com exemplos que facilitam a compreensão (INFERÊNCIA: baseada em resenhas no Goodreads);</li>\n  <li><strong>Atualização constante:</strong> Edições regulares que incorporam novas tecnologias e metodologias (Fonte: <a href=\"https://www.mcgraw-hill.com/...\" target=\"_blank\">McGraw-Hill</a>).</li>\n</ul>\n\n<h2>Detalhes bibliográficos</h2>\n<ul>\n  <li><strong>Título:</strong> Engenharia de Software;</li>\n  <li><strong>Autor:</strong> Roger S. Pressman;</li>\n  <li><strong>Editora:</strong> McGraw-Hill;</li>\n  <li><strong>Ano:</strong> 2021 (9ª edição);</li>\n  <li><strong>Páginas:</strong> 800;</li>\n  <li><strong>ISBN:</strong> 978-1234567890;</li>\n  <li><strong>Idioma:</strong> Português (traduzido).</li>\n</ul>\n\n<h2>Sobre o autor: Roger S. Pressman</h2>\n<p>Roger Pressman é <strong>PhD em Ciência da Computação</strong> pela Universidade de São Paulo (USP) e possui mais de 40 anos de experiência na indústria de software. Atuou como arquiteto sênior na IBM e é consultor para empresas Fortune 500. Além deste livro, é autor de obras como <strong>Software Engineering: A Practitioner’s Approach</strong> (edição original em inglês) e <strong>Agile Software Development</strong> (Fonte: <a href=\"https://www.linkedin.com/...\" target=\"_blank\">LinkedIn</a>).</p>"
  },
  "anti_hallucination_and_quality_policies": {
    "mandatory_sources": [
      "Todo dado factual deve ter uma fonte linkada (URL + data de acesso)"
    ],
    "fact_citation_template": "O livro tem 800 páginas (Fonte: Google Books, acessado em 13/01/2026).",
    "inference_policy": {
      "rule": "Sempre marcadas como \"INFERÊNCIA\" e com base explícita",
      "template": "(INFERÊNCIA: baseada em 3 resenhas no Goodreads que destacam este tópico)."
    },
    "missing_data_policy": {
      "rule": "Nunca inventar.",
      "template": "ISBN: Não disponível em fontes públicas."
    },
    "legal_compliance": {
      "prohibited": [
        "Links para download ilegal",
        "Termos como \"baixar grátis\", \"PDF grátis\", \"torrent\""
      ],
      "allowed": [
        "Disponível em formato PDF em lojas oficiais como Amazon e Google Books.",
        "Consulte a editora [X] para opções de compra."
      ]
    }
  },
  "user_interaction_protocol": {
    "initial_prompt_template": "Título: \"Engenharia de Software\"\nAutor: \"Roger S. Pressman\"",
    "agent_response_template": "Livro localizado com sucesso. Iniciando pesquisa em fontes públicas...\nMetadados confirmados (Google Books, Amazon).\nSumário parcial disponível (Google Books).\n5 resenhas técnicas analisadas (Goodreads, DevMedia).\n\nArtefatos gerados:\n- A1: Validação inicial (OK)\n- A2: Metadados completos\n- A3: Sumário (parcial, 6 capítulos confirmados)\n- A4: Tópicos e frases-âncora\n- A5: Perfil do autor (LinkedIn + Goodreads)\n\nAviso: ISBN não encontrado em fontes públicas.\n\nPróxima etapa: Consolidar núcleo do livro (A7). Prosseguir?",
    "final_delivery": [
      "Arquivo HTML pronto para copiar/colar no WordPress",
      "Relatório de fontes com todas as URLs usadas"
    ]
  }
}
